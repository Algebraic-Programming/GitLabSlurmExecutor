check_interval = 0
shutdown_timeout = 0

# Amount of concurrent SLURM jobs that can be running at the same time
concurrent = 10

[[runners]]
executor = "custom"

# Values generated by "gitlab-runner register"
name = "my-gitlab-executor-slurm"
url = "https://gitlab.my-domain.com/"
id = "1234"
token = "glrt-g1b3rr1sh"
token_obtained_at = "2023-01-01T00:00:00Z"
token_expires_at = "2024-01-01T00:00:00Z"

# Paths to the builds and cache directories
# - must be absolute
# - must be owned by the user running gitlab-runner
# - must have enough space to store potential large artifacts
builds_dir = "/home/user/gitlab-executor-slurm/wd/builds"
cache_dir = "/home/user/gitlab-executor-slurm/wd/cache"

# Un-comment me out during debugging
# log_level = "debug"

# Paths to the driver/main.py executable controlling the SLURM jobs
[runners.custom]
config_exec = "/home/user/gitlab-executor-slurm/driver/main.py"
config_args = ["config", "/home/user/gitlab-executor-slurm/wd/builds", "/home/user/gitlab-executor-slurm/wd/cache"]
prepare_exec = "/home/user/gitlab-executor-slurm/driver/main.py"
prepare_args = ["prepare"]
run_exec = "/home/user/gitlab-executor-slurm/driver/main.py"
run_args = ["run"]
cleanup_exec = "/home/user/gitlab-executor-slurm/driver/main.py"
cleanup_args = ["cleanup"]
